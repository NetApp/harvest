name:                     Lun
query:                    api/cluster/counter/tables/lun
object:                   lun

counters:
  - ^^id                        => lunfull
  - ^svm.name                   => svm
  - read_data
  - write_data
  - read_ops
  - write_ops
  - xcopy_requests
  - writesame_requests
  - writesame_unmap_requests
  - caw_requests
  - average_read_latency
  - average_write_latency
  - average_xcopy_latency
  - unmap_requests
  - writesame_unmap_requests
  - enospc
  - queue_full
  - remote_bytes
  - remote_ops
  - read_partial_blocks
  - write_partial_blocks
  - write_align_histogram
  - read_align_histogram

override:
  - writesame_requests: rate
  - writesame_unmap_requests: rate
  - caw_requests: rate
  - unmap_requests: rate
  - xcopy_requests: rate


plugins:
  LabelAgent:
    #Example: /vol/osc_iscsi_vol01/osc_iscsi_vol01:d32abf06-0327-4d06-bb9d-1c19c8eeea01
    split_regex:
      - lunfull `\/(.*?)\/(.*?)\/(.*?):(.*?)` ,,volume,lun,

export_options:
  instance_keys:
    - lun # edited by plugin
    - volume # added by plugin
    - svm
