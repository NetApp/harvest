
name:       SVM
query:      vserver-get-iter
object:     svm

counters:
  vserver-info:
    - ^^uuid                                  => svm_uuid
    - ^vserver-name                           => svm
    - ^state                                  => state
    - ^anti-ransomware-default-volume-state   => anti_ransomware_state
    - name-server-switch:
        - ^nsswitch                           => nameservice_switch

collect_only_labels: true

plugins:
  - SVM:
      schedule:
        - data: 900s  # should be multiple of data poll duration
  - LabelAgent:
      value_to_num:
        - new_status state online online `0`

export_options:
  instance_keys:
    - svm
  instance_labels:
    - state
    - anti_ransomware_state
    - nis_authentication_enabled
    - audit_protocol_enabled
    - cifs_ntlm_enabled
    - cifs_protocol_enabled
    - nfs_protocol_enabled
    - nis_domain
    - ns_source
    - ns_db
    - ciphers
