name:                 QuotaReport
query:                quota-report-iter
object:               quota_report

client_timeout:           2m

counters:
  quota:
    - ^^tree                                  => qtree
    - ^^volume
    - ^^vserver                               => svm
    - ^^quota-target                          => target
    - ^^quota-type                            => type
    - ^^soft-disk-limit                       => soft_disk_limit
    - ^^soft-file-limit                       => soft_file_limit
    - ^^disk-limit                            => disk_limit
    - ^^disk-used                             => disk_used
    - ^^disk-used-pct-disk-limit              => disk_hard_percent_used
    - ^^file-limit                            => file_limit
    - ^^files-used                            => files_used
    - ^^files-used-pct-file-limit             => file_hard_percent_used
    - quota-users:
        - quota-user:
            - ^quota-user-id                   => user_id
            - ^quota-user-name                 => user_name

plugins:
  - QuotaReport

collect_only_labels: true

export_options:
  instance_keys:
    - qtree
    - volume
    - svm
  instance_labels:
    - type
    - soft_disk_limit
    - soft_file_limit
    - disk_limit
    - disk_used
    - file_limit
    - files_used
    - security_style
    - user
    - group
    - disk_hard_percent_used
    - file_hard_percent_used
